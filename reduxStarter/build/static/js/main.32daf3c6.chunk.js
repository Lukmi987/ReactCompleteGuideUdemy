(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),u=n(11),i=(n(55),n(16)),l=n(67),s=[],d={idToken:null},f=Object(i.c)({userForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"STORE_USER_FORM"===t.type?t.counterFormData:e},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"STORE_USER_LIST"===t.type?t.userList:e},selectedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_SELECTED_USER"===t.type?t.user:e}}),m=Object(i.c)({userModalStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_USER_MODAL_STATUS"===t.type?t.status:e}}),E=Object(i.c)({userAuthInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return"SET_AUTH_INFO"===t.type?t.loginAuthInfo:e}}),p=Object(i.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"SET_COUNTER"===t.type?t.counter:e},users:f,modals:m,locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_LOCATIONS"===t.type?t.locations:e},authentication:E}),b=n(10),v=n.n(b),O=n(37),h=n(7),g=n(13),S=Object(g.a)((function(e){return e}),(function(e){return e.counter})),j=Object(g.a)((function(e){return e}),(function(e){return e.counterForm})),T=v.a.mark(y);function y(e){var t,n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType,a.next=3,Object(h.c)(S);case 3:return t=a.sent,"INCREMENT"===e.operationType&&(n=t+1),"DECREMENT"===e.operationType&&(n=t-1),"ADD"===e.operationType&&(n=t+5),"SUBTRACT"===e.operationType&&(n=t-5),a.next=10,Object(h.b)({type:"SET_COUNTER",counter:n});case 10:case"end":return a.stop()}}),T)}var C=v.a.mark(k);function k(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("test effect saga");case 1:case"end":return e.stop()}}),C)}var _=[Object(h.d)("CHANGE_COUNTER",y),Object(h.d)("TEST_EFFECT",k)],U=n(36),w=Object(g.a)((function(e){return e}),(function(e){return e.authentication.userAuthInfo})),R=n(20),I=n.n(R),L=v.a.mark(x);function x(e){var t,n,a,r;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.counterFormData,n=Object(U.a)(Object(U.a)({},t),{},{version:"verze 0"}),c.prev=2,c.next=5,Object(h.c)(w);case 5:return a=c.sent,c.next=8,I.a.post("https://react-hooks-update-4307d.firebaseio.com/ingredients.json?auth="+a.idToken,n);case 8:return r=c.sent,console.log(r),c.next=12,Object(h.b)({type:"STORE_USER_FORM",counterFormData:n});case 12:return c.next=14,Object(h.b)({type:"FETCH_USER_LIST"});case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(2),console.log(c.t0);case 19:case"end":return c.stop()}}),L,null,[[2,16]])}var N=function(e,t){var n={id:t[0],fname:t[1].fname,lname:t[1].lname};return e.push(n),e},F=v.a.mark(A);function A(){var e,t,n,a,r;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(h.c)(w);case 3:return e=c.sent,c.next=6,I.a.get("https://react-hooks-update-4307d.firebaseio.com/ingredients.json?auth="+e.idToken);case 6:if(t=c.sent,!(n=t.data)){c.next=13;break}return a=Object.entries(n),r=a.reduce(N,[]),c.next=13,Object(h.b)({type:"STORE_USER_LIST",userList:r});case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),console.log(c.t0);case 18:case"end":return c.stop()}}),F,null,[[0,15]])}var D=Object(g.a)((function(e){return e}),(function(e){return e.users})),M=(Object(g.a)(D,(function(e){return e.userForm})),Object(g.a)(D,(function(e){return e.userList}))),H=Object(g.a)(D,(function(e){return e.selectedUser})),G=v.a.mark(P);function P(e){var t,n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.userId,a.prev=1,a.next=4,Object(h.c)(w);case 4:return n=a.sent,a.next=7,I.a.delete("https://react-hooks-update-4307d.firebaseio.com/ingredients/".concat(t,".json?auth=")+n.idToken);case 7:return a.sent,a.next=10,Object(h.b)({type:"FETCH_USER_LIST"});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}}),G,null,[[1,12]])}var W=v.a.mark(V);function V(e){var t,n,a,r,c,o;return v.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.user,n=t.id,a=t.fname,r=t.lname,c={fname:a,lname:r},console.log("v edit user saga",e),u.prev=3,u.next=6,Object(h.c)(w);case 6:return o=u.sent,u.next=9,I.a.put("https://react-hooks-update-4307d.firebaseio.com/ingredients/".concat(n,".json?auth=")+o.idToken,c);case 9:return u.sent,u.next=12,Object(h.b)({type:"FETCH_USER_LIST"});case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(3),console.log(u.t0);case 17:case"end":return u.stop()}}),W,null,[[3,14]])}var B=[Object(h.d)("PROCESS_USER_FORM",x),Object(h.d)("FETCH_USER_LIST",A),Object(h.d)("REMOVE_USER",P),Object(h.d)("EDIT_USER",V)],K=v.a.mark(z);function z(e){var t,n,a,r,c,o,u,i;return v.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.user,n=t.email,a=t.pwd,r=t.isSignup,c={email:n,password:a,returnSecureToken:!0},o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDHgyJbZWnZHfyECzhyd8ncmPNWevtSDJg",r||(o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDHgyJbZWnZHfyECzhyd8ncmPNWevtSDJg"),l.prev=4,l.next=7,I.a.post(o,c);case 7:return u=l.sent,i={idToken:u.data.idToken,userId:u.data.localId},localStorage.setItem("token",u.data.idToken),l.next=12,Object(h.b)({type:"SET_AUTH_INFO",loginAuthInfo:i});case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(4),console.log(l.t0);case 17:case"end":return l.stop()}}),K,null,[[4,14]])}var J=v.a.mark(q);function q(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.c)(w);case 2:return e=n.sent,t=Object(U.a)({},e),localStorage.removeItem("token"),t.idToken=null,t.userId=null,n.next=9,Object(h.b)({type:"SET_AUTH_INFO",loginAuthInfo:t});case 9:case"end":return n.stop()}}),J)}var Z=[Object(h.d)("LOGIN_USER",z),Object(h.d)("LOG_USER_OUT",q)],X=function(e){return e.map((function(e){return{country:e.country,code:e.code,cities:Y(e.cities).join()}}))},Y=function(e){return e.map((function(e){return e.name}))},Q=v.a.mark($);function $(){var e,t,n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.a.get("https://dpl-qa-ybus-pubapi.sa.cz/restapi/consts/locations");case 3:return e=a.sent,t=e.data,n=X(t),a.next=8,Object(h.b)({type:"SET_LOCATIONS",locations:n});case 8:console.log(".........preparedLocations",n),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),Q,null,[[0,11]])}var ee=[Object(h.d)("FETCH_LOCATIONS",$)],te=v.a.mark(ne);function ne(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([].concat(Object(O.a)(_),Object(O.a)(B),Object(O.a)(Z),Object(O.a)(ee)));case 2:case"end":return e.stop()}}),te)}var ae=Object(l.a)(),re=[ae],ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,oe=Object(i.e)(p,{},ce(i.a.apply(void 0,re)));ae.run(ne);var ue=oe,ie=(n(95),n(96),n(66)),le=n(29),se=function(e){return{type:"CHANGE_COUNTER",operationType:e}},de=(n(97),function(e){return r.a.createElement("div",{className:"CounterControl",onClick:e.clicked},e.label)}),fe=(n(98),function(e){return r.a.createElement("div",{className:"CounterOutput"},"Current Counter: ",e.value)}),me=function(){var e=Object(u.c)();return{counter:Object(u.d)((function(e){return e.counter})),incrementCounter:function(){return e(se("INCREMENT"))},decrementCounter:function(){return e(se("DECREMENT"))},addCounter:function(){return e(se("ADD"))},subtractCounter:function(){return e(se("SUBTRACT"))}}},Ee=function(e){var t=e.testEffect,n=me(),c=n.addCounter,o=n.counter,u=n.decrementCounter,i=n.incrementCounter,l=n.subtractCounter;return Object(a.useEffect)((function(){t()}),[]),r.a.createElement("div",null,r.a.createElement(fe,{value:o}),r.a.createElement(de,{label:"INCREMENT",clicked:function(){i()}}),r.a.createElement(de,{label:"DECREMENT",clicked:function(){u()}}),r.a.createElement(de,{label:"ADD",clicked:function(){c()}}),r.a.createElement(de,{label:"SUBTRACT",clicked:function(){l()}}),r.a.createElement("hr",null))},pe={changeCounter:se,testEffect:function(){return{type:"TEST_EFFECT"}}},be=Object(u.b)((function(e){return{counter:S(e)}}),pe)(Ee),ve=function(e){return{type:"EDIT_USER",user:e}},Oe=n(14),he=n(12),ge=n(21),Se=function(e){var t=e.processUserForm,n=Object(a.useState)(""),c=Object(Oe.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(""),l=Object(Oe.a)(i,2),s=l[0],d=l[1],f=Object(a.useState)(!1),m=Object(Oe.a)(f,2),E=m[0],p=m[1];Object(a.useEffect)((function(){console.log()}));var b=function(e){var t=e.target.id,n=e.target.value;"fname"===t&&u(n),"lname"===t&&d(n)},v=function(){return{fname:o,lname:s}};return r.a.createElement(he.a,{noValidate:!0,validated:E,onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),!1===e.currentTarget.checkValidity())return console.log("v ifu"),void p(!0);p(!0),t(v())}},r.a.createElement(he.a.Group,{controlId:"fname"},r.a.createElement(he.a.Label,null,"First name:"),r.a.createElement(he.a.Control,{required:!0,onChange:b,value:o,type:"text",placeholder:"first name"})),r.a.createElement(he.a.Group,{controlId:"lname"},r.a.createElement(he.a.Label,null,"Last Name: "),r.a.createElement(he.a.Control,{required:!0,onChange:b,value:s,type:"text",placeholder:"Last Name"})),r.a.createElement(ge.a,{variant:"primary",type:"submit"},"Submit"),"".concat(o," ").concat(s),r.a.createElement("br",null))},je={processUserForm:function(e){return{type:"PROCESS_USER_FORM",counterFormData:e}}},Te=Object(u.b)((function(e){return{counterForm:j(e)}}),je)(Se),ye=function(e){return{type:"SET_USER_MODAL_STATUS",status:e}},Ce=n(44),ke=n(32),_e=function(e){var t=e.status,n=e.setUserModalStatus,c=e.selectedUser,o=e.editUser,u=Object(a.useState)("disabled"),i=Object(Oe.a)(u,2),l=i[0],s=i[1],d=Object(a.useState)(c.fname),f=Object(Oe.a)(d,2),m=f[0],E=f[1],p=Object(a.useState)(c.lname),b=Object(Oe.a)(p,2),v=b[0],O=b[1],h=function(e){var t=e.target.id,n=e.target.value,a=c[t];"fname"===t?E(n):O(n),s(a!==n?null:"disabled")};return c&&r.a.createElement(ke.a,{show:t,onHide:function(){return n(!1)},backdrop:"static",keyboard:!1},r.a.createElement(ke.a.Header,{closeButton:!0},r.a.createElement(ke.a.Title,null,"Modal title")),r.a.createElement(ke.a.Body,null,r.a.createElement("input",{defaultValue:c.fname,id:"fname",onChange:h}),r.a.createElement("input",{defaultValue:c.lname,id:"lname",onChange:h})),r.a.createElement(ke.a.Footer,null,r.a.createElement(ge.a,{variant:"secondary",onClick:function(){return n(!1)}},"Close"),r.a.createElement(ge.a,{variant:"primary",disabled:l,onClick:function(){c.id;if(c.fname!==m||c.lname!==v){var e={id:c.id,fname:m,lname:v};o(e)}}},"Confirm")))},Ue=Object(g.a)((function(e){return e}),(function(e){return e.modals})),we=Object(g.a)(Ue,(function(e){return e.userModalStatus})),Re={setUserModalStatus:ye,editUser:ve},Ie=Object(u.b)((function(e){return{status:we(e),selectedUser:H(e)}}),Re)(_e),Le=n(65),xe=function(e){var t=e.userList,n=e.fetchUserList,c=e.removeUser,o=e.setUserModalStatus,u=e.setSelectedUser,i=e.userAuthInfo,l=Object(Le.a)("repoData",(function(){return fetch("https://api.github.com/repos/tannerlinsley/react-query").then((function(e){return e.json()}))})),s=(l.isLoading,l.error,l.data);Object(a.useEffect)((function(){console.log("...........userID token authe",i.idToken),i.idToken&&n()}),[i.idToken]);var d=Object(a.useState)(!1),f=Object(Oe.a)(d,2),m=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,null===s||void 0===s?void 0:s.name),r.a.createElement("th",null,"Last Name"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.fname),r.a.createElement("td",null,e.lname),r.a.createElement("td",null,r.a.createElement(ge.a,{onClick:function(){return function(e){E(!0),o(!0),u(e)}(e)},variant:"warning"},"Edit")),r.a.createElement("td",null,r.a.createElement(ge.a,{onClick:function(){c(e.id)},variant:"danger"},"Delete")))})))),m&&r.a.createElement(Ie,null))},Ne={fetchUserList:function(){return{type:"FETCH_USER_LIST"}},removeUser:function(e){return{type:"REMOVE_USER",userId:e}},editUser:ve,setUserModalStatus:ye,setSelectedUser:function(e){return{type:"SET_SELECTED_USER",user:e}}},Fe=Object(u.b)((function(e){return{userList:M(e),userAuthInfo:w(e)}}),Ne)(xe),Ae=function(){return{type:"LOG_USER_OUT"}},De=function(e){var t=e.processLoginForm,n=e.logOut,c=Object(a.useState)(""),o=Object(Oe.a)(c,2),u=o[0],i=o[1],l=Object(a.useState)(""),s=Object(Oe.a)(l,2),d=s[0],f=s[1],m=Object(a.useState)(!1),E=Object(Oe.a)(m,2),p=E[0],b=E[1],v=Object(a.useState)(!0),O=Object(Oe.a)(v,2),h=O[0],g=O[1],S=function(e){var t=e.target.id,n=e.target.value;"email"===t&&i(n),"pwd"===t&&f(n)},j=function(){return{email:u,pwd:d,isSignup:h}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{noValidate:!0,validated:p,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!1!==e.currentTarget.checkValidity()?(b(!0),t(j())):b(!0)}},r.a.createElement(he.a.Group,{controlId:"email"},r.a.createElement(he.a.Label,null,"Email address"),r.a.createElement(he.a.Control,{type:"email",placeholder:"Enter email",onChange:S,value:u}),r.a.createElement(he.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(he.a.Group,{controlId:"pwd"},r.a.createElement(he.a.Label,null,"Password"),r.a.createElement(he.a.Control,{type:"password",placeholder:"Password",onChange:S,value:d})),r.a.createElement(ge.a,{variant:"primary",type:"submit"},"Submit"),r.a.createElement("br",null)),r.a.createElement(ge.a,{onClick:function(){return g(!h)},variant:"danger"},"Switch to ",h?"SIGNIN":"SIGNUP"),r.a.createElement("div",null,r.a.createElement(ge.a,{onClick:n,variant:"primary"},"LogOut")))},Me={processLoginForm:function(e){return{type:"LOGIN_USER",user:e}},logOut:Ae},He=Object(u.b)((function(e){return{}}),Me)(De),Ge=Object(g.a)((function(e){return e}),(function(e){return e.locations})),Pe=function(e){var t=e.locations,n=e.fetchLocations;return Object(a.useEffect)((function(){n()}),[]),t&&r.a.createElement(Ce.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Cities"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.code},r.a.createElement("td",null,e.country),r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.cities))}))))},We={fetchLocations:function(){return{type:"FETCH_LOCATIONS"}}},Ve=Object(u.b)((function(e){return{locations:Ge(e)}}),We)(Pe),Be=n(50),Ke=(n(100),function(){var e=Object(u.c)(),t=function(){return e({type:"LOG_USER_OUT"})},n=Object(u.d)((function(e){return e.authentication.userAuthInfo.idToken})),c=localStorage.getItem("token");return Object(a.useEffect)((function(){console.log("hello from app in use effect",c)}),[n,t]),r.a.createElement("div",{className:"App"},r.a.createElement(Be.ReactQueryDevtools,{initialIsOpen:!0}),r.a.createElement(ie.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example"},r.a.createElement(le.a,{eventKey:"home",title:"Home"},r.a.createElement(be,null)),r.a.createElement(le.a,{eventKey:"profile",title:"User Form"},r.a.createElement(Te,null)),n&&r.a.createElement(le.a,{eventKey:"contact",title:"User List"},r.a.createElement(Fe,null)),n?r.a.createElement(le.a,{eventKey:"authenticate",title:"Log Out"},r.a.createElement("button",{onClick:t},"LogOut")):r.a.createElement(le.a,{eventKey:"authenticate",title:"Authenticate"},r.a.createElement(He,null)),r.a.createElement(le.a,{eventKey:"YbusLocations",title:"Ybus Locations"},r.a.createElement(Ve,null))))}),ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(u.a,{store:ue},r.a.createElement(Ke,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ze?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Je(e)}))}}()},68:function(e,t,n){e.exports=n(102)},95:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[68,1,2]]]);
//# sourceMappingURL=main.32daf3c6.chunk.js.map